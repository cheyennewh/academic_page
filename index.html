<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chey Wakeland-Hart - Cognitive Scientist</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            margin-top: 2rem;
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }

        .profile-content {
            position: relative;
            z-index: 2;
        }

        .profile-img {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            border: 5px solid rgba(255,255,255,0.2);
            margin: 0 auto 2rem;
            background: #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: #999;
        }/* dynamic background mount */
        /* dynamic background mount */
        #neuron-bg{
          position: fixed;
          inset: 0;
          z-index: -1;          
          pointer-events: none;
          overflow: hidden;
        }
        #neuron-bg svg{
          width: 100%;
          height: 100%;
          display: block;
          opacity: .35;         
        }
        
        @media (prefers-reduced-motion: reduce){
          #neuron-bg .pulsePath{ animation-duration: 12s !important; }
        }

        .name {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .title {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 1rem;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .social-links a {
            color: white;
            font-size: 1.5rem;
            padding: 0.5rem;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .social-links a:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        .nav {
            background: rgba(52, 73, 94, 0.1);
            padding: 0;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .nav a {
            padding: 1rem 2rem;
            text-decoration: none;
            color: #2c3e50;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav a:hover, .nav a.active {
            background: #3498db;
            color: white;
        }

        .nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 3px;
            background: #3498db;
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }

        .nav a:hover::after {
            width: 100%;
        }

        .content {
            padding: 3rem 2rem;
        }

        .section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section h2 {
            color: #2c3e50;
            margin-bottom: 2rem;
            font-size: 2rem;
            position: relative;
            padding-bottom: 0.5rem;
        }

        .section h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background: linear-gradient(135deg, #3498db, #9b59b6);
            border-radius: 2px;
        }

        .research-item, .teaching-item, .presentation-item {
            background: rgba(255,255,255,0.8);
            padding: 2rem;
            margin-bottom: 2rem;
            border-radius: 15px;
            border-left: 5px solid #3498db;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .research-item:hover, .teaching-item:hover, .presentation-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .research-item h3, .teaching-item h3, .presentation-item h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .research-item .meta, .teaching-item .meta, .presentation-item .meta {
            color: #7f8c8d;
            font-style: italic;
            margin-bottom: 1rem;
        }

        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .skill-category {
            background: rgba(255,255,255,0.8);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .skill-category h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .skill-list {
            list-style: none;
        }

        .skill-list li {
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .skill-list li:last-child {
            border-bottom: none;
        }

        .contact-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .contact-card {
            background: rgba(255,255,255,0.8);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }

        .contact-card i {
            font-size: 2rem;
            color: #3498db;
            margin-bottom: 1rem;
        }

        .btn {
            display: inline-block;
            padding: 0.75rem 2rem;
            background: linear-gradient(135deg, #3498db, #9b59b6);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: 500;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }
        .neuron-bg{
          position: fixed;
          inset: 0;               /* top:0;right:0;bottom:0;left:0 */
          z-index: -1;            /* behind everything */
          pointer-events: none;   /* don't block clicks */
          overflow: hidden;
        }
        .neuron-bg svg{
          width: 100%;
          height: 100%;
          display: block;
          opacity: 0.35;          /* subtle; tweak to taste (0.25â€“0.6) */
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        @media (max-width: 768px) {
            .container {
                margin: 1rem;
                border-radius: 15px;
            }
            
            .name {
                font-size: 2rem;
            }
            
            .nav {
                flex-direction: column;
            }
            
            .nav a {
                padding: 1rem;
                text-align: center;
            }
            
            .content {
                padding: 2rem 1rem;
            }
            
            .profile-img {
                width: 150px;
                height: 150px;
            }
        }
    </style>
</head>
<body>
<div id="neuron-bg" aria-hidden="true"></div>
    <div class="container">
        <header class="header">
            <div class="profile-content">
                <div class="profile-img">
                    <i class="fas fa-user"></i>
                </div>
                <h1 class="name">Your Name</h1>
                <p class="title">Doctoral Researcher in Cognitive Neuroscience</p>
                <p>Columbia University Psychology Department</p>
                
                <div class="social-links">
                    <a href="mailto:your.email@columbia.edu" title="Email"><i class="fas fa-envelope"></i></a>
                    <a href="#" title="LinkedIn"><i class="fab fa-linkedin"></i></a>
                    <a href="#" title="Google Scholar"><i class="fas fa-graduation-cap"></i></a>
                    <a href="#" title="ORCID"><i class="fab fa-orcid"></i></a>
                    <a href="#" title="GitHub"><i class="fab fa-github"></i></a>
                </div>
            </div>
        </header>

        <nav class="nav">
            <a href="#about" class="nav-link active" onclick="showSection('about')">About</a>
            <a href="#research" class="nav-link" onclick="showSection('research')">Research</a>
            <a href="#teaching" class="nav-link" onclick="showSection('teaching')">Teaching</a>
            <a href="#presentations" class="nav-link" onclick="showSection('presentations')">Presentations</a>
            <a href="#skills" class="nav-link" onclick="showSection('skills')">Skills</a>
            <a href="#contact" class="nav-link" onclick="showSection('contact')">Contact</a>
        </nav>

        <main class="content">
            <section id="about" class="section active">
                <h2>About Me</h2>
                <p>I am a doctoral researcher in the Psychology Department at Columbia University, specializing in cognitive neuroscience and memory research. My work focuses on understanding the neural mechanisms underlying human cognition, with particular interests in memory processes, attention, and brain-behavior relationships.</p>
                
                <p>Prior to my doctoral studies, I conducted research at the University of Chicago, where I worked in multiple laboratories including the Memory Lab, Cognition Attention and Brain Lab (CAB Lab), and Brain Bridge Lab. This diverse research experience has provided me with a comprehensive understanding of cognitive processes from multiple perspectives.</p>
                
                <p>Beyond research, I am passionate about teaching and have extensive experience as both a teaching assistant and guest lecturer across various psychology courses. I also serve in leadership roles within the department and broader academic community.</p>
                
                <a href="#" class="btn">Download CV</a>
            </section>

            <section id="research" class="section">
                <h2>Research Projects</h2>
                
                <div class="research-item">
                    <h3>Predicting Memorability</h3>
                    <p class="meta">Ongoing â€¢ Computational Neuroscience</p>
                    <p>Investigating the factors that make certain information more memorable than others using computational modeling and neuroimaging techniques. This research aims to understand the neural basis of memory formation and retrieval.</p>
                </div>
                
                <div class="research-item">
                    <h3>Predicting Memory</h3>
                    <p class="meta">Ongoing â€¢ Cognitive Psychology</p>
                    <p>Developing predictive models of memory performance using behavioral and physiological measures. The project combines machine learning approaches with traditional experimental psychology methods.</p>
                </div>
                
                <div class="research-item">
                    <h3>Music Recommendation Model</h3>
                    <p class="meta">Completed â€¢ Data Science Application</p>
                    <p>Created a machine learning model for personalized music recommendations, applying principles from cognitive psychology to understand individual preferences and listening patterns.</p>
                </div>
                
                <div class="research-item">
                    <h3>tDCS Research</h3>
                    <p class="meta">Ongoing â€¢ Neurostimulation</p>
                    <p>Investigating the effects of transcranial direct current stimulation (tDCS) on cognitive performance and neural activity, with applications for understanding brain plasticity and potential therapeutic interventions.</p>
                </div>
            </section>

            <section id="teaching" class="section">
                <h2>Teaching Experience</h2>
                
                <div class="teaching-item">
                    <h3>Lead Teaching Fellow</h3>
                    <p class="meta">Columbia Teaching and Learning (CTL)</p>
                    <p>Mentor and support teaching assistants across the psychology department, providing pedagogical training and classroom management strategies.</p>
                </div>
                
                <div class="teaching-item">
                    <h3>Statistics for Behavioral Scientists</h3>
                    <p class="meta">Teaching Assistant â€¢ Fall 2023</p>
                    <p>Assisted students in understanding statistical concepts and their applications in psychological research, including hands-on experience with statistical software and data analysis.</p>
                </div>
                
                <div class="teaching-item">
                    <h3>Cognition: Basic Processes</h3>
                    <p class="meta">Teaching Assistant & Guest Lecturer â€¢ 2024</p>
                    <p>Taught fundamental concepts in cognitive psychology, including attention, memory, perception, and decision-making processes.</p>
                </div>
                
                <div class="teaching-item">
                    <h3>Summer Research Program</h3>
                    <p class="meta">Instructor â€¢ "Cognition: from Lab to Life!"</p>
                    <p>Designed and delivered an intensive summer program connecting laboratory research in cognition to real-world applications and everyday experiences.</p>
                </div>
            </section>

            <section id="presentations" class="section">
                <h2>Conference Presentations</h2>
                
                <div class="presentation-item">
                    <h3>Cognitive Neuroscience Society (CNS)</h3>
                    <p class="meta">2023 â€¢ Poster Presentation</p>
                    <p>Presented research findings on neural mechanisms of memory and cognition to an international audience of cognitive neuroscientists.</p>
                </div>
                
                <div class="presentation-item">
                    <h3>Vision Sciences Society (VSS)</h3>
                    <p class="meta">2021 â€¢ Poster Presentation</p>
                    <p>Shared research on visual perception and its relationship to cognitive processes with experts in vision science.</p>
                </div>
                
                <div class="presentation-item">
                    <h3>Psychonomics Annual Meeting</h3>
                    <p class="meta">2021 â€¢ Poster Presentation</p>
                    <p>Presented findings on experimental psychology and cognitive processes to the broader experimental psychology community.</p>
                </div>
            </section>

            <section id="skills" class="section">
                <h2>Technical Skills & Expertise</h2>
                
                <div class="skills-grid">
                    <div class="skill-category">
                        <h3><i class="fas fa-code"></i> Programming</h3>
                        <ul class="skill-list">
                            <li>Python</li>
                            <li>R</li>
                            <li>MATLAB</li>
                        </ul>
                    </div>
                    
                    <div class="skill-category">
                        <h3><i class="fas fa-chart-line"></i> Analysis & Visualization</h3>
                        <ul class="skill-list">
                            <li>PsychoPy</li>
                            <li>PyTorch</li>
                            <li>TensorFlow</li>
                            <li>GIS</li>
                        </ul>
                    </div>
                    
                    <div class="skill-category">
                        <h3><i class="fas fa-database"></i> Data Collection</h3>
                        <ul class="skill-list">
                            <li>Gorilla</li>
                            <li>Prolific</li>
                            <li>AWS</li>
                        </ul>
                    </div>
                    
                    <div class="skill-category">
                        <h3><i class="fas fa-brain"></i> Specialties</h3>
                        <ul class="skill-list">
                            <li>Statistical Modeling</li>
                            <li>Bayesian Modeling</li>
                            <li>Natural Language Processing</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="contact" class="section">
                <h2>Contact Information</h2>
                
                <div class="contact-info">
                    <div class="contact-card">
                        <i class="fas fa-envelope"></i>
                        <h3>Email</h3>
                        <p>your.email@columbia.edu</p>
                    </div>
                    
                    <div class="contact-card">
                        <i class="fas fa-map-marker-alt"></i>
                        <h3>Office</h3>
                        <p>Columbia University<br>Psychology Department<br>New York, NY</p>
                    </div>
                    
                    <div class="contact-card">
                        <i class="fas fa-calendar-alt"></i>
                        <h3>Office Hours</h3>
                        <p>By appointment<br>Email to schedule</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        function showSection(sectionId) {
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));
            
            // Remove active class from all nav links
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => link.classList.remove('active'));
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Add active class to clicked nav link
            event.target.classList.add('active');
        }

        // Smooth scrolling for better UX
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                });
            });
        });
    
        const mount = document.getElementById('neuron-bg');
        
        const CFG = {
          somaCount: 3, minWalks: 4, extraWalkProb: .3,
          step: 40, jitter: Math.PI/6,
          branches: 10, pulseSec: 4,
          margin: 10, maxMain: 200, maxBranch: 140
        };
        const NEON='#14e6ff', SOFT='#7ffaff', PULSE='#fff';
        const R = (a,b)=>a+(b-a)*Math.random();
        
        function buildSVG(W,H){
          const svg = document.createElementNS('http://www.w3.org/2000/svg','svg');
          svg.setAttribute('viewBox',`0 0 ${W} ${H}`);
          svg.innerHTML = `
            <defs>
              <filter id="glow-soft" x="-40%" y="-40%" width="180%" height="180%">
                <feGaussianBlur stdDeviation="4" result="b1"/><feMerge>
                  <feMergeNode in="b1"/><feMergeNode in="SourceGraphic"/></feMerge>
              </filter>
              <filter id="glow-strong" x="-40%" y="-40%" width="180%" height="180%">
                <feGaussianBlur stdDeviation="5" result="b1"/>
                <feGaussianBlur stdDeviation="10" result="b2"/><feMerge>
                  <feMergeNode in="b2"/><feMergeNode in="b1"/><feMergeNode in="SourceGraphic"/></feMerge>
              </filter>
              <filter id="glow-pulse" x="-40%" y="-40%" width="180%" height="180%">
                <feGaussianBlur stdDeviation="2" result="b1"/><feMerge>
                  <feMergeNode in="b1"/><feMergeNode in="SourceGraphic"/></feMerge>
              </filter>
            </defs>
            <g id="branches"></g><g id="main"></g><g id="pulses"></g><g id="somas"></g>
            <style>
              .soma{fill:${NEON};opacity:1;filter:url(#glow-strong)}
              .soma-core{fill:${NEON};opacity:1;filter:url(#glow-soft)}
              .fiber{fill:${NEON};opacity:.85;filter:url(#glow-soft)}
              .fiber.inner{fill:${SOFT};opacity:.7}
              .pulsePath{
                stroke:${PULSE};stroke-width:2;fill:none;stroke-linecap:round;
                stroke-dasharray:120 720;animation:flow ${CFG.pulseSec}s linear infinite;
                filter:url(#glow-pulse);opacity:.85;mix-blend-mode:screen
              }
              @keyframes flow{from{stroke-dashoffset:0}to{stroke-dashoffset:-840}}
            </style>`;
          mount.innerHTML=''; mount.appendChild(svg);
          return {
            svg,
            LAYER_BRANCH: svg.querySelector('#branches'),
            LAYER_MAIN:   svg.querySelector('#main'),
            LAYER_PULSE:  svg.querySelector('#pulses'),
            LAYER_SOMA:   svg.querySelector('#somas')
          };
        }
        
        const inB=(W,H,x,y,m)=>x>m&&x<W-m&&y>m&&y<H-m;
        const step=(W,H,m,x,y,a,l)=>({x:Math.max(m,Math.min(W-m,x+Math.cos(a)*l)),
                                       y:Math.max(m,Math.min(H-m,y+Math.sin(a)*l))});
        function angles(n,sep=Math.PI/6){const out=[];while(out.length<n){const a=Math.random()*Math.PI*2;
          if(out.every(b=>Math.abs(Math.atan2(Math.sin(a-b),Math.cos(a-b)))>=sep))out.push(a);}return out;}
        
        function somaPath(cx,cy,baseR=24,arms=8,irr=.5){
          const P=[]; for(let i=0;i<arms;i++){const a=i/arms*2*Math.PI+R(-.12,.12);
            const r=baseR*(1+R(-irr,irr)); P.push([cx+Math.cos(a)*r,cy+Math.sin(a)*r]);}
          const d=[]; for(let i=0;i<P.length;i++){const p0=P[(i-1+P.length)%P.length],p1=P[i],p2=P[(i+1)%P.length],p3=P[(i+2)%P.length];
            if(i===0)d.push(`M${p1[0]},${p1[1]}`); const c1x=p1[0]+(p2[0]-p0[0])/6,c1y=p1[1]+(p2[1]-p0[1])/6;
            const c2x=p2[0]-(p3[0]-p1[0])/6,c2y=p2[1]-(p3[1]-p1[1])/6; d.push(`C${c1x},${c1y} ${c2x},${c2y} ${p2[0]},${p2[1]}`);}
          d.push('Z'); return d.join(' ');
        }
        function ribbon(pts,w0=3,w1=.9){
          if(pts.length<2) return '';
          const L=[],Rr=[];
          for(let i=0;i<pts.length;i++){
            const p=pts[i],pr=pts[i-1]||p,nx=pts[i+1]||p,vx=nx.x-pr.x,vy=nx.y-pr.y,len=Math.hypot(vx,vy)||1;
            const nX=-vy/len,nY=vx/len,t=i/(pts.length-1),w=w0*(1-t)+w1*t;
            L.push([p.x+nX*w,p.y+nY*w]); Rr.push([p.x-nX*w,p.y-nY*w]);
          }
          const all=L.concat(Rr.reverse()); let d=`M${all[0][0]},${all[0][1]}`;
          for(let i=1;i<all.length;i++) d+=` L${all[i][0]},${all[i][1]}`; return d+' Z';
        }
        function smoothD(pts){ if(pts.length<2) return ''; let d=`M${pts[0].x},${pts[0].y}`;
          for(let i=1;i<pts.length-1;i++){const p1=pts[i],p2=pts[i+1],mx=(p1.x+p2.x)/2,my=(p1.y+p2.y)/2;
            d+=` Q ${p1.x},${p1.y} ${mx},${my}`;} return d; }
        
        function toEdge(W,H,origin,stepLen,jitter,startA,maxSteps,margin){
          let {x,y}=origin, a=(startA==null)?Math.random()*Math.PI*2:startA;
          const pts=[{x,y}], bias=Math.atan2(y<H/2?-1:1,x<W/2?-1:1); a=(a*3+bias)/4;
          let s=0; while(inB(W,H,x,y,margin)&&s<maxSteps){ a+=R(-jitter,jitter);
            const p=step(W,H,margin,x,y,a,stepLen); x=p.x;y=p.y; pts.push({x,y}); s++; if(!inB(W,H,x,y,margin))break; }
          const last=pts[pts.length-1], toL=last.x-margin, toR=(W-margin)-last.x, toT=last.y-margin, toB=(H-margin)-last.y;
          const m=Math.min(toL,toR,toT,toB); if(m===toL)last.x=margin; if(m===toR)last.x=W-margin; if(m===toT)last.y=margin; if(m===toB)last.y=H-margin;
          return pts;
        }
        function branchToEdge(W,H,anchor,prev,maxSteps,margin){
          const stepLen=R(16,24), jit=Math.PI/8, dx=anchor.x-(prev?.x??anchor.x), dy=anchor.y-(prev?.y??anchor.y);
          let a=Math.atan2(dy,dx)+ (Math.random()<.5?1:-1)*(Math.PI/2+R(-.6,.6));
          const bias=Math.atan2(anchor.y<H/2?-1:1,anchor.x<W/2?-1:1); a=(a*3+bias)/4;
          let x=anchor.x,y=anchor.y, pts=[{x,y}], s=0;
          while(inB(W,H,x,y,margin)&&s<maxSteps){ a+=R(-jit,jit); const p=step(W,H,margin,x,y,a,stepLen);
            x=p.x;y=p.y; pts.push({x,y}); s++; if(!inB(W,H,x,y,margin))break; }
          const last=pts[pts.length-1], toL=last.x-margin, toR=(W-margin)-last.x, toT=last.y-margin, toB=(H-margin)-last.y;
          const m=Math.min(toL,toR,toT,toB); if(m===toL)last.x=margin; if(m===toR)last.x=W-margin; if(m===toT)last.y=margin; if(m===toB)last.y=H-margin;
          return pts;
        }
        
        function draw(){
          const W = mount.clientWidth || window.innerWidth;
          const H = mount.clientHeight || window.innerHeight;
          const {svg,LAYER_BRANCH,LAYER_MAIN,LAYER_PULSE,LAYER_SOMA} = buildSVG(W,H);
        
          // somas
          const somas=[];
          for(let i=0;i<CFG.somaCount;i++){
            const cx=R(90,W-90), cy=R(90,H-90);
            const soma=document.createElementNS(svg.namespaceURI,'path');
            soma.setAttribute('d',somaPath(cx,cy,R(18,28),Math.floor(R(5,8)),.38));
            soma.setAttribute('class','soma'); LAYER_SOMA.appendChild(soma);
            const core=document.createElementNS(svg.namespaceURI,'path');
            core.setAttribute('d',somaPath(cx,cy,R(12,18),Math.floor(R(7,10)),.55));
            core.setAttribute('class','soma-core'); LAYER_SOMA.appendChild(core);
            somas.push({x:cx,y:cy});
          }
        
          // main fibers
          const allBackbones=[];
          somas.forEach(o=>{
            const count = CFG.minWalks + (Math.random()<CFG.extraWalkProb?1:0);
            const angs = angles(count, Math.PI/5);
            angs.forEach(a=>{
              const bb = toEdge(W,H,o,CFG.step,CFG.jitter,a,CFG.maxMain,CFG.margin);
              allBackbones.push(bb);
        
              const outer=document.createElementNS(svg.namespaceURI,'path');
              outer.setAttribute('d',ribbon(bb,R(2,4),R(.8,1.2)));
              outer.setAttribute('class','fiber'); LAYER_MAIN.appendChild(outer);
        
              const inner=document.createElementNS(svg.namespaceURI,'path');
              inner.setAttribute('d',ribbon(bb,R(1,2),R(.6,.8)));
              inner.setAttribute('class','fiber inner'); LAYER_MAIN.appendChild(inner);
        
              const pulse=document.createElementNS(svg.namespaceURI,'path');
              pulse.setAttribute('d',smoothD(bb));
              pulse.setAttribute('class','pulsePath');
              pulse.style.animationDuration = CFG.pulseSec+'s';
              LAYER_PULSE.appendChild(pulse);
            });
          });
        
          // branches
          function pickAnchor(bb){
            const i=Math.floor(R(2, Math.min(bb.length-4, bb.length*0.7)));
            return {anchor:bb[i], prev:bb[i-1]};
          }
          for(let k=0;k<CFG.branches;k++){
            const bb=allBackbones[Math.floor(Math.random()*allBackbones.length)];
            const {anchor,prev}=pickAnchor(bb);
            const pts=branchToEdge(W,H,anchor,prev,CFG.maxBranch,CFG.margin);
        
            const o=document.createElementNS(svg.namespaceURI,'path');
            o.setAttribute('d',ribbon(pts,R(4,5.5),R(.5,1))); o.setAttribute('class','fiber'); LAYER_BRANCH.appendChild(o);
            const i=document.createElementNS(svg.namespaceURI,'path');
            i.setAttribute('d',ribbon(pts,R(3,4),R(.3,.7))); i.setAttribute('class','fiber inner'); LAYER_BRANCH.appendChild(i);
        
            const p=document.createElementNS(svg.namespaceURI,'path');
            p.setAttribute('d',smoothD(pts)); p.setAttribute('class','pulsePath');
            p.style.animationDuration=(CFG.pulseSec*.9)+'s'; LAYER_PULSE.appendChild(p);
          }
        }
        
        let raf; const onResize=()=>{ cancelAnimationFrame(raf); raf=requestAnimationFrame(draw); };
        window.addEventListener('resize', onResize, {passive:true});
        draw();
        /* === /Neuron background === */
        </script>

</body>
</html>
